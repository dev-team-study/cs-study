# 학습
## 이상 현상
불필요한 데이터 중복으로 인해 테이블에 대한 데이터 삽입, 수정, 삭제 연산을 할 때 발생할 수 있는 부작용.  

### 삽입 이상
데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야 하거나, 삽입으로 인해 다른 테이블의 일관성이 깨지는 문제를 가리킵니다.

### 갱신 이상
중복된 데이터 중 일부만 변경하여 데이터가 불일치하게 되는 문제  

### 삭제 이상
데이터를 삭제하면 꼭 필요한 데이터까지 같이 삭제되는 데이터 손실 문제  


## 정규화
이상 현상을 제거하기 위해서 테이블을 의미 있는 속성들로만 구성하기 위해 테이블을 분해하는 과정.  
이때 **함수적 종속성**을 판단하여 정규화를 진행. 함수적 종속성이란 컬럼들 간의 관련성을 이야기하는데, 이를 이용하여 이상 현상이 일어나지 않는 테이블로 설계하는 과정이 정규화이다.


다시말해, 정규화는 테이블에서 함수적 종속성을 최대한 제거하고 데이터 중복을 최소화하여 데이터베이스를 잘 구조화하는 과정.   
함수적 종속성은 어떤 속성이 다른 속성에 종속되어 있음을 나타내며, 이를 통해 테이블을 분해하고 정리함으로써 이상 현상을 방지하고 데이터의 일관성을 유지할 수 있음.  

기본적인 아이디어는 테이블이 어떤 정규화 단계에 있느냐에 따라 얼마나 중복이 제거되고, 함수적 종속성이 어떻게 관리되는가에 따라 데이터의 무결성이 강화됨. 주로 1차 정규형(1NF), 2차 정규형(2NF), 3차 정규형(3NF) 등의 단계를 거쳐 정규화를 수행.  

- 1차 정규형 (1NF): 모든 속성 값이 원자적인 값이어야 함. 즉, 더 이상 분해할 수 없는 단일 값이어야 함.    

- 2차 정규형 (2NF): 기본키가 모든 속성에 대해 완전 함수 종속성을 가져야 함. 이는 기본키가 모든 컬럼에 종속되어야 한다는 의미.    

- 3차 정규형 (3NF): 모든 속성이 기본키에 대해 이행적 종속성을 갖지 않아야 함. 다시 말해, 어떤 속성도 기본키를 통해 다른 속성에 간접적으로 종속되어서는 안 됨.    

이러한 정규화 과정을 통해 데이터의 무결성을 강화하고, 중복을 최소화하여 데이터베이스의 일관성을 유지하는 데 기여할 수 있음.  

### (참고)함수적 종속성
X -> Y 일 때 "X가 Y를 함수적으로 결정한다" = "Y가 X에 함수적으로 종속되어 있다"  는 의미.  
함수적 종속성이 없음은 테이블 내의 모든 행을 대상으로 하나의  X값에 대한 Y값이 항상 하나인 경우를 의미.  
함수 종속 관계를 판단할 때 현재의 속성 값을 기준으로 판단하면 안 되고 속성에 들어올 수 있는 값들을 고려하여 판단해야 한다. 일반적으로 기본키와 후보 키는 릴레이션의 다른 모든 속성들을 함수적으로 결정.  



## 트랜젝션
### 트랜잭션 개념
트랜잭션은 데이터베이스에서 수행되는 작업의 단위를 나타냄.   
일련의 연산들을 묶어서 하나의 논리적인 작업 단위로 처리하며, 이 작업들은 모두 성공적으로 완료(Commit)되거나 아무것도 수행되지 않은 상태(Rollback)로 남게 됨.  
트랜잭션은 데이터베이스의 정합성을 유지하고, 데이터베이스 시스템이 예기치 않은 문제로부터 회복하는 데 도움을 줌.  
### ACID
- Atomicity (원자성): 트랜잭션은 원자적으로 수행되어야 하며, 모든 연산이 성공적으로 완료되거나 아무것도 수행되지 않은 상태로 유지되어야 한다.(작업 단위가 더 쪼개질 수 없다!!)  
- Consistency (일관성): 트랜잭션이 완료된 후에도 데이터베이스는 일관된 상태여야 한다(작업이 끝났는데 DB의 constraint를 위한 한다거나, 데이터 일관성이 깨져있으면 안 됨).  
- Isolation (고립성): 여러 트랜잭션이 동시에 수행될 때, 각 트랜잭션은 다른 트랜잭션의 연산에 영향을 받지 않도록 고립되어야 한다(여러 트랜잭션이 동시에 수행될 때도, 각 트랜젝션이 혼자 수행될 때와 똑같이 동작해야 함).
- Durability (지속성): 트랜잭션이 성공적으로 완료된 후에는 그 결과가 영구적으로 데이터베이스에 반영되어야 한다.
### Commit, Rollback
Commit (커밋): 트랜잭션의 모든 연산이 성공적으로 완료되면, 트랜잭션의 결과를 데이터베이스에 반영하는 작업.
Rollback (롤백): 트랜잭션이 중간에 실패하거나 에러가 발생하면, 트랜잭션의 모든 연산을 취소하고 이전 상태로 돌리는 작업.
### 트랜잭션 격리수준
트랜잭션 격리수준은 여러 트랜잭션이 동시에 실행될 때 각 트랜잭션이 다른 트랜잭션의 영향을 받는 정도를 나타냄.  
다양한 격리수준이 있으며, 대표적으로 Read Uncommitted, Read Committed, Repeatable Read, Serializable이 있음.   
높은 격리수준은 안정성을 증가시키지만 동시성을 감소시킬 수 있음.    
### LOCK, 교착상태
LOCK (락): 여러 트랜잭션이 동일한 자원에 동시에 접근하는 것을 제어하기 위해 사용되는 메커니즘. 락을 사용하여 특정 자원에 대한 동시 접근을 제한하고, 데이터 일관성을 보장. 주요 락 종류 : {낙관적락, 비관적락(공유락, 배타락)}    
교착상태 (Deadlock): 두 개 이상의 트랜잭션이 각자 가지고 있는 자원을 대기하며, 서로 상대방이 가지고 있는 자원을 기다리는 상태. 교착상태는 트랜잭션들이 무한히 대기하며 진행하지 못하게 만들 수 있으며, 이를 해결하기 위해 교착상태 탐지 및 해결 알고리즘이 필요. 애초에 교착 상태에 빠지지 않도록 구성하는게 가장 좋다.    



# 질문
## 1. 이상 현상이란 무엇인지 설명하고, 그 중에서 삽입 이상이 발생하는 상황에 대해 구체적으로 설명해주세요. 간단한 예시를 들어 주셔도 좋습니다.  

이상 현상은 테이블에 대한 데이터 삽입, 수정, 삭제 연산 시 발생할 수 있는 부작용을 의미합니다.   
그 중에서 삽입 이상은 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야 하는 문제를 나타냅니다.   
예를 들어, 사람의 정보가 저장 된 테이블에서 성이 포함된 이름 컬럼과, 성이 포함되지 않은 이름 컬럼이 존재해서, 두 데이터를 모두 삽입해서 사람 데이터를 저장할 수 있는 경우가 삽입 이상의 예시입니다.

## 2. 정규화는 무엇이며, 왜 사용되는지 설명해주세요.
정규화는 테이블에서 함수적 종속성을 최대한 제거하고 데이터 중복을 최소화하여 데이터베이스를 잘 구조화하는 과정입니다.   
함수적 종속성은 어떤 속성이 다른 속성에 종속되어 있음을 나타내며, 이를 통해 테이블을 분해하고 정리함으로써 이상 현상을 방지하고 데이터의 일관성을 유지할 수 있습니다.

## 3.  트랜잭션의 격리수준이란 무엇이며, 격리수준이 높아질 때의 장단점을 설명해주세요.
트랜잭션의 격리수준은 여러 트랜잭션이 동시에 실행될 때 각 트랜잭션이 다른 트랜잭션의 영향을 받는 정도를 나타냅니다.     
높은 격리수준은 안정성을 증가시키지만 동시성을 감소시킬 수 있습니다.     
예를 들어, 가장 높은 격리 수준인 Serializable 에서는 한 트랜잭션이 진행 중일 때 다른 트랜잭션은 해당 데이터에 접근할 수 없습니다.    
이로 인해 안정성이 증가하고, 동시성으로 인해 racecondition이나, 데드락 같은 문제가 발생하지는 않게 되지만, 동시성 성능이 감소하여 DB 성능 저하가 발생할 수 있습니다.  
따라서 격리수준을 선택할 때는 안정성과 동시성 간의 균형을 고려해야 합니다.  