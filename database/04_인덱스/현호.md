# 학습
## 인덱스 개념
- 인덱스란 추가적인 쓰기 작업과 저장 공간을 활용하여 데이터베이스 테이블의 검색 속도를 향상시키기 위한 자료구조. 데이터베이스의 index는 책의 색인과 같음.  
- 테이블의 모든 데이터를 검색하면 시간이 오래 걸리기 때문에, 데이터와 데이터의 위치를 포함한 자료구조를 생성하여 빠르게 조회할 수 있도록 지원.  
- 인덱스를 활용하면, 데이터를 조회하는 SELECT 외에도 UPDATE나 DELETE의 성능이 함께 향상됨. UPDATE나 DELETE 연산을 수행하려면 해당 대상을 조회해야만 작업을 할 수 있기 때문.

### 인덱스의 관리
DBMS는 index를 항상 최신의 정렬된 상태로 유지해야 원하는 값을 빠르게 탐색.  
그렇기 때문에 인덱스가 적용된 컬럼에 INSERT, UPDATE, DELETE가 수행된다면 index의 관리를 위해 각각 다음과 같은 연산을 추가적으로 해주어야 하며 그에 따른 오버헤드가 발생.    

INSERT: 새로운 데이터에 대한 인덱스를 추가함  
DELETE: 삭제하는 데이터의 인덱스를 사용하지 않는다는 작업을 진행함  
UPDATE: 기존의 인덱스를 사용하지 않음 처리하고, 갱신된 데이터에 대해 인덱스를 추가함  

## 인덱스 종류

### Clustered index
- 예시) 영어사전 - 책의 내용 자체가 순서대로 정렬되어 있는 경우
- 테이블당 한 개만 생성이 가능(실제 데이터와 결합 된 구조)  
- 행 데이터를 인덱스로 지정한 열에 맞춰서 자동 정렬  
- primary 키 설정 시 자동으로 생성되며 컬럼은 데이터 변경시, 항상 정렬을 유지  
- primary 키의 크기가 커질수록 보조 인덱스의 크기도 커짐  


### Non-Clustered index  
- 예시) 목차가 따로 있는 일반적인 책 - 목차와 내용이 분리  
- 테이블당 여러 개를 생성할 수 있습니다(실제 데이터와 분리된 구조)  
- 테이블의 페이지를 정렬하지 않고 새로운 공간을 할당  
- 클러스터 인덱스보다 많은 공간을 차지  

## 인덱스 자료구조
### 해시 테이블(Hash Table)

- 해시 테이블의 시간복잡도는 O(1)이며 매우 빠른 검색을 지원. 따라서 빠른 데이터 검색이 필요할 때 유용한 자료구조.
- 하지만 해시 테이블이 해시가 등호(=) 연산에만 특화되었기 때문에 DB 인덱스에서 사용하기는 힘듬. 해시 함수는 값이 1이라도 달라지면 완전히 다른 해시 값을 생성하는데, 이러한 특성에 의해 부등호 연산(>, <)이 자주 사용되는 데이터베이스 검색을 위해서는 해시 테이블이 적합하지 않음.  

### B+Tree
- 데이터베이스의 인덱스 컬럼은 부등호를 이용한 순차 검색 연산이 자주 발생.  
- 이러한 이유로 BTree의 리프노드들을 LinkedList로 연결하여 순차검색을 용이하게 하는 등 BTree를 인덱스에 사용하기 좋게 최적화한 자료구조.   
- Best Case에 대해 리프노드까지 가지 않아도 탐색할 수 있는 BTree에 비해 무조건 리프노드까지 가야한다는 단점도 존재.  
- 정리하자면, 비록 B+Tree는 O(log2n) 의 시간복잡도를 갖지만 해시테이블보다 인덱싱에 더욱 적합한 자료구조.  

# 질문
## 1. 인덱스를 사용하는 경우에 어떤 SQL 연산의 성능이 향상되나요?

인덱스를 사용하면 SELECT, UPDATE, DELETE 연산의 성능이 향상됩니다.  
인덱스를 통해 데이터를 빠르게 조회할 수 있기에 기본적으로 SELECT연산의 성능이 향상되는데, UPDATE나 DELETE 또한 연산을 수행하기 전에 해당 대상을 먼저 조회하는 과정에서 성능이 향상됩니다.


## 2. Clustered index와 Non-Clustered index의 주요 차이는 무엇인가요?  

Clustered index는 테이블당 한 개만 생성 가능하며 실제 데이터와 결합된 구조로, 행 데이터를 인덱스로 지정한 열에 맞춰 자동으로 정렬해두는 방식입니다.   
반면에 Non-Clustered index는 여러 개 생성 가능하며 실제 데이터와 분리된 구조로, 데이터가 저장된 테이블을 정렬하지 않고 새로운 공간에 할당됩니다.  

## 3. 해시 테이블이 인덱스로 잘 활용되지 않는 이유는 무엇인가요?  

해시 테이블은 빠른 조회에 특화되어 있습니다. 그러나 데이터베이스에서는 부등호 연산(<, >)이 자주 사용되는데, 해시가 등호(=) 연산에만 특화되어 있다는 문제점이 있습니다.  
해시 함수의 특성 상 값이 조금이라도 달라지면 완전히 다른 해시 값을 생성하므로 "해당 컬럼에서에서 3보다 큰 값을 모두 조회하라" 등의 연산에서 필요한 부등호 연산에는 적합하지 않습니다.  
따라서 해시 테이블 대신 Btree 자료구조가 자주 쓰입니다.  