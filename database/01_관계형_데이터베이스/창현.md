# 1. 관계형 데이터베이스

## 1.1 데이터베이스와 파일 시스템의 차이

### 1.1.1 데이터베이스
- 데이터베이스는 조직에 필요한 정보를 얻기 위해 `논리적`으로 연관된 데이터를 모아 구조적으로 **통합**해놓은 것

#### 데이터베이스 개념
데이터를 통합, 공유할 목적으로 구축

1. **통합된 데이터**
   - 여러 곳에서 사용하던 데이터를 통합하여 하나로 저장한 데이터
   - 통합시 중복을 최소화하여 **불일치 현상 없앰**
2. **저장된 데이터**
   - 문서로 보관된 데이터가 아니라 **컴퓨터 저장장치에 저장된 데이터를 의미**
3. **운영 데이터**
   - 조직의 목적을 위해 사용되는 데이터
4. **공용 데이터**
   - 공동으로 사용하는 데이터

### 1.1.2 파일시스템
- 컴퓨터에서 파일이나 자료를 쉽게 발견하고 접근할 수 있도록 저장하는 것을 가르킴
- NTFS, EXT4 등

#### 차이점
- 데이터의 중복성
  - 데이터베이스는 통합된 환경에서 사용하여 하나의 데이터를 이용해서 사용 가능하지만 파일시스템의 경우 2개의 프로그램이 각각의 데이터 파일을 사용하여 데이터 중복성이 발생할 수 있음
- 데이터 종속성
  - 파일시스템의 경우 데이터와 응용 프로그램이 종속 관계로 되어있어 상호 의존함, 데이터베이스의 경우 DBMS에서 생성, 접근, 관리를 모두 하기 때문에 독립성이 확보
- 동시성 제어
  - 데이터베이스의 경우 동시성 제어를 가능케하나 파일 시스템의 경우 가능하지 않음.
- 보안 기능
  - 데이터베이스의 사용자의 권한에 따라 접근 제어나 진입점이 하나이지만 파일시스템의 경우 진입점이 여러개이고 파일단위로만 가능하다.

## 1.2 관계형 데이터베이스의 개념과 장단점

### 1.2.1 관계형 데이터베이스
- 키와 값들의 간단한 관계를 테이블화 시킨 매우 간단한 원칙의 전산정보 데이터베이스
- **행과 열로 이루어진 각각의 테이블을 고유 값을 참조하여 서로 종속되는 관계를 표현하는 데이터베이스 구조**

### 1.2.2 관계형 데이터베이스의 장단점

#### 장점 
- 데이터 일관성 및 무결성(데이터 값이 정확), 데이터 중복 최소화
- 표준화된 SQL을 사용하기 때문에 다른 데이터베이스 모델에 비해 학습이 쉬움

#### 단점
- 대용량 데이터 처리에 한계가 있고, 복잡한 데이터 구조를 처리하기에는 어려움
- 테이블 간의 관계가 복잡해질 수록 성능이 저하될 수 있음
- 유연성이 떨어져 사전에 계획하여 추후 수정이 어려움

## 1.3 SQL(DDL, DML, DCL, TCL)
SQL은 관계형 데이터베이스 관리 시스템의 데이터를 관리하기 위해 설계된 프로그래밍 언어

### 1.3.1 DDL 데이터 정의 언어
- 테이블과 컬럼을 정의하는 명령어(생성, 수정, 삭제)
- DDL은 명령어를 입력하는 순간 작업이 즉시 반영(Auto Commit)되어 사용할 때 주의해야함
  - CREATE: 테이블 생성
  - ALTER: 테이블의 구조 
  - DROP: 테이블을 삭제
  - RENAME: 테이블의 이름을 변경
  - TRUNCATE: 테이블을 초기화

### 1.3.2 DML 데이터 조작 언어
- 데이터베이스 내부 데이터를 관리하기 위한 언어
- DML은 즉시 반영이 되지 않고 **커밋을 해야지만 즉시 반영이 된다.**
  - SELECT: 데이터베이스에서 데이터를 검색
  - INSERT: 테이블에 데이터를 추가
  - UPDATE: 테이블 내에 존재하는 데이터를 수정
  - DELETE: 테이블에서 데이터를 삭제

### 1.3.3 DCL 데이터 제어 언어
- 데이터를 관리 목적으로 보안, 무결성, 회복, 병행 제어 등을 정의하는데 사용
- 권한 부여 박탈 가능
  - GRANT: 권한을 정의할 때 사용
  - REVOKE: 권한을 취소할 때 사용

### 1.3.4 TCL 트랜잭션 제어 언어
- DCL과 비슷하지만 데이터를 제어하는 언어가 아닌 트랜잭션을 제어할 때 사용
- 논리적인 작업 단위를 묶어 DML에 의해 조작된 결과를 트랜잭션 별로 제어
  - COMMIT 
  - ROLLBACK

#### 트랜잭션
데이터베이스의 상태를 변화시키기 위해 수행하는 작업의 단위

- **A 원자성**
  - 트랜잭션이 모두 반영되거나, 전혀 반영되지 않아야함

- **C 일관성**
  - 트랜잭션의 작업 처리 결과가 항상 일관성이 있어야함(중간에 타입 변경 불가능)

- **I 독립성**
  - 다른 트랜잭션에 끼어들 수 없고 마찬가지로 독립적임을 의미

- **D 지속성**
  - 지속성은 트랜잭션이 성공적으로 완료되었을 경우, 결과는 **영구적으로 반영되어야 한다는 점.**

#### SQL 실행 순서 예제
SELECT -> FROM -> WHERE -> GROUP BY -> HAVING -> ORDER BY

## 1.4 Key
DBMS 키는 테이블 내 행을 식별하기 위한 단일 속성 혹은 속성들의 집합

### 1.4.1 슈퍼 키
- 유일성을 만족하는 키(학번, 주민등록번호, [이름 + 생년월일]])
- **서로 구분만 가능하면 슈퍼키**라고 부를 수 있음

### 1.4.2 복합 키
- 두 개 이상의 속성을 사용한 키

### 1.4.3 후보 키
- 유일성과 최소성을 만족하는 키. 기본키가 될 수 있는 후보이기 때문에 후보키라고 불림
- 주민등록번호, 학번 등

### 1.4.4 기본 키
- 후보 키에서 선택된 키, NULL 값이 들어갈 수 없고, 기본키로 선택된 속성은 동일한 값이 들어갈 수 없음.

### 1.4.5 대체 키
- 후보 키 중에 기본 키로 선택되지 않은 키

### 1.4.6 외래 키
- 어떤 테이블 간의 기본 키를 참조하는 속성, 테이블들 간의 관계를 나타내기 위해서 사용됨



# 질문 
### 1. 데이터베이스와 파일 시스템의 차이를 얘기해주세요.

첫번째로 데이터베이스는 데이터를 하나로 통합하여 관리, 공유하는 시스템으로써 하나의 관리 포인트로 사용될 수 있지만 파일 시스템의 경우 프로그램과의 종속성 같은 것들 때문에 데이터의 중복성이 일어날 수 있습니다.

두번째로 데이터베이스는 동시성을 제어할 수 있는 장치인 락 같은 개념이 있지만 파일 시스템의 경우 그러한 장치가 없어 데이터가 덮어씌워지고 손실될 수도 있습니다.

마지막 세번째로는 보안적으로 데이터베이스는 유저 별 권한을 이용하여 통제하거나 진입점이 하나이지만 파일시스템의 경우 파일 단위로 밖에 설정하지 못하며 진입점이 여러 곳이라 위험할 수 있습니다.

### 2. 관계형 데이터베이스의 장, 단점을 얘기해주세요.

관계형 데이터베이스의 장점으로는 데이터의 일관성, 무결성을 지키며 데이터의 중복을 최소화 할 수 있으며 표준화된 SQL을 사용함으로써 학습이 쉽습니다. 단점으로는 유연성이 떨어져 추후 수정이 어렵고, 복잡한 쿼리를 처리하기 어려우며,  대체로 수직적 확장만 가능합니다.

수직적 확장 -> 서버 자원을 늘리는 방법(CPU 업글)
수평적 확장 -> 서버 자체를 늘리는 방법(클라우드 AutoScaling 같은)

### 3. SQL 쿼리 언어의 종류를 모두 얘기해주시고 명령어를 얘기해주세요.
쿼리 언어의 종류는 DDL, DML, DCL, TCL이 있습니다.
DDL의 경우 테이블과 컬럼을 조작하는 언어로 CREATE, RENAME, DROP, ALTER, TRUNCATE가 있습니다.
DML의 경우 테이블 데이터를 관리하기 위한 언어로 INSERT, UPDATE, DELETE, SELECT가 있습니다.
DCL의 경우 데이터를 관리, 제어하기위한 용도로 보안, 무결성등에 이용하는 언어로 GRANT와 REVOKE가 있습니다.
마지막으로 TCL의 경우 트랜잭션은 관리하는 용도의 언어로 COMMIT과 ROLLBACK이 있습니다.

### 4. 트랜잭션이 어떤 것이고 특징에 대해서 이야기 해주세요.
트랜잭션은 데이터베이스에서 처리해야하는 작업의 단위입니다. 보통 특징으로 ACID를 이야기하며
첫번째 원자성은 트랜잭션이 모두 반영되거나, 모두 반영되지 않아야한다는 것입니다.
두번째 일관성은 트랜잭션의 작업 처리 결과가 항상 일관성이 있어야한다는 것입니다.
세번째 독립성은 다른 트랜잭션에 끼어들 수 없고 독립적인 것을 의미합니다.
네번째 지속성은 다트랜잭션이 성공적으로 완료되었을 경우 결과는 영구적으로 반영되어야한다는 점 입니다.

### 5. SQL의 실행 순서를 얘기해주세요.
SELECT -> FROM -> WHERE -> GROUP BY -> HAVING -> ORDER BY

### 6. 대체 키, 후보 키, 슈퍼 키, 기본 키가 있다고 했을 때 이 4가지를 큰 범위 부터 얘기해주세요.
슈퍼 키 > 후보 키 > 기본 키 = 대체 키