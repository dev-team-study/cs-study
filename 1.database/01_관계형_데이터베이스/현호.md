# 학습
## 데이터베이스와 파일시스템의 차이
모든 서비스는 데이터를 만들어내고 그 데이터의 저장을 필요로 한다. 데이터 베이스 등장 전에는 파일시스템의 데이터 관리 역할을 담당했다.  
두 시스템의 차이를 비교해보자.  
1) Data dependency(데이터 종속성)  
   데이터의 수정은 빈번히 일어나는 작업인데, File system의 경우 data가 변경될 때마다 프로그램 자체를 수정해야한다. 반면에 DB시스템의 경우, DBMS를 이용하기 때문에 변경이 쉽다.


2) Data redundancy and inconsistency(데이터 중복성 & 비 일관성)  
   File system의 경우 응용 프로그램 별로 독립된 파일을 가지므로 데이터의 중복 저장이 발생하기 쉽다. DB의 경우 데이터를 통합하여 중복을 없애고 자료를 구조화하기 유리하다.(하나의 큰 시스템으로 운영 가능)


3) Integrity problems(무결성 제약조건)  
   File system의 특성상 수많은 file을 복제하기 때문에 새로운 제약조건이 발생하였을 때 모든 파일에 제약조건을 추가하기에 어려움이 있다. 통합 된 DBMS는 제약조건의 추가에 있어 유리하다.


4) Atomicity of updates(원자성 문제)  
File system의 경우 부분적인 update로 인해 데이터베이스가 일관성을 유지하지 못한 상태로 남아있을 수 있다. 예를 들어 계좌이체의 경우 입금과 출금이 모두 일어나야 하는데 어느하나라도 일어나지 발생하지 않으면 큰 문제가 생긴다. 파일시스템은 이런 원자성을 보장하기 어렵다. 데이터베이스 시스템은 다양한 기능을 통해 이런 문제를 방지해준다. 


5) Concurrent access by multiple users  
DB의 경우 여러 사용자의 요구를 동시적으로 처리할 수 있는 능력을 가지고 있다.  


6) Security problems  
DB의 경우 사용자별 접근 권한을 지정할 수 있다.  

## 관계형 데이터베이스의 개념과 장단점
### 관계형 데이터베이스란?
- 구조화된 데이터를 저장하고 질의할 수 있도록 해주는 스토리지
- 테이블 형태로 데이터를 정의하고 저장한다. ( 컬럼(열)과 레코드(행) 가 존재)
- 관계형 데이터베이스를 조작하는 프로그래밍 언어가 SQL이다.

장점
- 데이터의 무결성 보장에 유리(ACID 준수)

- 데이터의 중복 최소화(파일 시스템처럼 흩어져 있지 않다.)

- 데이터 베이스 추가 전 유효성 검사를 통해 품질 향상 가능.

- VIEW를 통한 보안 설정으로 허가된 사용자들만이 데이터에 접근하게 할 수 있음.

단점
- 관계를 맺고 있어 JOIN문이 많은 복잡한 쿼리문이 생길 수 있음.

- JOIN이 많은 복잡한 쿼리문이 생성된 경우 수정이 매우 번거로움.
  
- Scale out이 어렵고 Scale up만 주로 가능해 데이터 처리량 성장에 한계.

- 가변성이 있는 데이터의 경우 저장이 쉽지 않음.

- 데이터베이스 모델링이 개발 전 완료되어야해 개발속도가 느려짐.

## DDL, DML, DCL, TCL
> - 정의 기능(DDL: Data Definition Language)
> - 테이블이 어떤 용도이며 어떤 식으로 이용될것임을 정의

>     - CREATE, ALTER, DROP, RENAME
>

 >- 조작 기능(DML: Data Manipulation Language)
 >- 테이블을 만든 뒤 데이터를 검색, 추가, 수정, 삭제

>     - SELECT, INSERT, UPDATE, DELETE
>
> - 제어 기능(DCL: Data Control Language)
> - 테이블에 접근하고 데이터를 사용하도록 권한을 주고 회수하는 명령

>     - GRANT, REVOKE
>

> - 트랜잭션 제어어(TCL: Transaction Control Language)` : 트랜잭션을 관리하고 제어하는 기능을 제공  
>     - COMMIT, ROLLBACK

## Key
각 튜플(행)을 고유하게 식별할 수 있는 하나 이상의 애트리뷰트(열)의 모임  
특정 튜플을 검색하거나, 다른 튜플들과 연관시킬 수 있도록 사용하는 목적

### 주요 키 정리
- 기본키(pk)
  
   - 한 테이블에 후보 키가 두 개 이상 있으면 하나를 기본 키로 선정.

  - 모든 튜플을 고유하게 식별해야하므로, null값이나 중복된 값을 가질 수 없음.

  - 기본 키는 자연스러운 키를 선정하는 것이 좋다.(시퀀스 값 등)

- 외래키(fk)

  - 다른 테이블의 기본 키를 참조하는 애트리뷰트
  - 관계형 데이터베이스에서 테이블 간의 관계를 나타내기 위해 사용
  - 외래 키 이름은 대응되는 기본 키와 다른 이름을 가질 수 있음 하지만 참조되는 테이블의 기본 키와 동일한 도메인을 가져야 한다.

- 수퍼키
  - 각 튜플을 고유하게 식별하는 <하나의 열> or <열의 집합>
  - 키의 조건이 만족되면서 최소성은 만족되지 않아도 됨(최소성 만족 : 열의 집합의 부분 집합으로는 각 튜플을 고유하게 식별할 수 없다.)
- 후보키
  - 각 튜플을 고유하게 식별하는 최소한의 애트리뷰트들의 모임
  - 키의 조건와 최소성이 만족되야함
- 복합키
  - 두 개 이상의 애트리뷰트로 구성되는 후보 키
  - 후보키의 특성을 따름

# 질문
## 1. 데이터베이스가 파일시스템에 비해 갖는 장점은 무엇일까요?

두 가지 정도를 말씀드릴 수 있을 것 같습니다. 첫 번째는 여러 사용자가 동시에 데이터 베이스를 조작해야하는 상황에서 DBMS가 제공하는 다양한 동시성 기능을 사용할 수 있다는 점입니다.
트랜젝션, 락, MVCC 등의 기능을 통해 여러 사용자가 데이터 베이스에 접근할 때도 DB의 정합성이 지켜지는 동시에, 성능을 보장하기에 유리합니다.  
두 번째, 파일 시스템은 하나의 큰 파일로 전체 어플리케이션의 데이터를 저장하기 어려운 반면 데이터 베이스는 하나의 시스템으로도 꽤 큰 어플리케이션을 커버할 수 있다는 점입니다. 이 때문에 단순한 파일 시스템에서는 데이터가 조금만 많아져도 성능 이슈가 생길  수 있어서, 데이터들이 여러 개의 작은 파일들 나누어 저장되곤 하는데요. 데이터 베이스의 경우에는 꽤 많은 데이터를 커버할 수 있기도 하고, DB가 분산되는 상황에서도 스케일 아웃 상황에서 발생할 수 있는 문제들을 좀 더 짜임새 있게 고려할 수 있게 되어서 유리합니다.
## 2. DDL, DML, DCL ,TCL에 대해 설명해주세요.
우선 DDL은 처음에 테이블을 정의할 때 쓰는 SQL 언어입니다. CREATE TABLE 등 초기에 ERD를 설계할 때 많이 쓰게 되는 언어가 바로 DDL 입니다.  
다음으로 DML은 정의 된 테이블을 조작할 때 쓰이는 언어입니다. 제 경우 Mybatis로 프로젝트를 진행해본 경험이 있어서 실제로 SQL매핑 파일에 DML을 직접 적어가면서 개발해본 경험이 있는데요. JPA와같은 기술을 쓰다보면 DB를 직접 조작하는 DML을 쓰는 경우가 많이 줄어 들어서 DML이 멀게 느껴지고는 했는데, 데이터 베이스를 조작하는건 결국 SQL, 그 중에서도 DML이라는 사실을 이 때 많이 느꼈습니다.    
## 3. 수퍼키와 후보키의 공통점/차이점에 대해 설명해주세요.
수퍼키와 후보키 모두 pk가 될 수 있는 조건인 각 튜플을 고유하게 식별할 수 있는 열, 또는 열들의 모임이라는 특징이 있습니다.  
다만 수퍼키는 최소성을 만족하지 않아도 되고, 후보키는 최소성을 만족해야한다는 차이점이 있는데요.
이 때 최소성이란 키가 복합키로 구성될 때 복합키가 되는 열들의 의 부분 집합으로도 각 튜플을 고유하게 식별할 수 있는가에 대한 개념입니다.
수퍼키는 부분 집합으로 식별할 수 있어도 괜찮고, 후보키는 부분 집합으로는 식별할 수 없어야합니다.
